generator client {
  provider   = "prisma-client-js"
  engineType = "binary"
}

datasource db {
  provider = "mysql"
}

model carrinho {
  id        Int     @id @default(autoincrement())
  total     Decimal @default(0.000000000000000000000000000000)
  usuarioId Int     @unique(map: "Carrinho_usuarioId_key")
}

model compra {
  id          Int      @id @default(autoincrement())
  dataCompra  DateTime @default(now())
  total       Decimal
  compradorId Int

  @@index([compradorId], map: "Compra_compradorId_fkey")
}

model compraitem {
  id         Int     @id @default(autoincrement())
  quantidade Int
  precoUnit  Decimal
  produtoId  Int
  compraId   Int
  vendedorId Int

  @@index([compraId], map: "CompraItem_compraId_fkey")
  @@index([produtoId], map: "CompraItem_produtoId_fkey")
  @@index([vendedorId], map: "CompraItem_vendedorId_fkey")
}

model endereco {
  id          Int     @id @default(autoincrement())
  cep         String
  logradouro  String
  bairro      String
  localidade  String
  uf          String
  numero      String?
  complemento String?
  usuarioId   Int     @unique(map: "Endereco_usuarioId_key")
}

model imagemproduto {
  id          Int    @id @default(autoincrement())
  nomeArquivo String
  produtoId   Int

  @@index([produtoId], map: "ImagemProduto_produtoId_fkey")
}

model itemcarrinho {
  id            Int     @id @default(autoincrement())
  quantidade    Int
  precoUnitario Decimal
  produtoId     Int
  carrinhoId    Int

  @@index([carrinhoId], map: "ItemCarrinho_carrinhoId_fkey")
  @@index([produtoId], map: "ItemCarrinho_produtoId_fkey")
}

model produto {
  id           Int       @id @default(autoincrement())
  codigoBarra  String    @unique(map: "Produto_codigoBarra_key")
  descricao    String
  validade     DateTime?
  volume       Int
  quantidade   Int       @default(0)
  precoCusto   Decimal
  precoVenda   Decimal
  marca        String?
  departamento String
  dataRegistro DateTime  @default(now())
  vendedorId   Int

  @@index([vendedorId], map: "Produto_vendedorId_fkey")
}

model usuario {
  id             Int       @id @default(autoincrement())
  imagem         String?
  nome           String
  sobrenome      String?
  email          String    @unique(map: "Usuario_email_key")
  password       String
  ehAdmin        Boolean   @default(false)
  cpf            String?   @unique(map: "Usuario_cpf_key")
  sexo           String?
  celular        String?
  dataNascimento DateTime?
  dataRegistro   DateTime  @default(now())
}
